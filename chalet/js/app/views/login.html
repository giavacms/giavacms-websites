<div class="section page-title small-padding background-wrapper with-overlay black-overlay active-section">
  <div class="background-image parallax-background" data-stellar-background-ratio="0.5">
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-12" style="">
        <div class="resizeMe">Vota la tua estate</div>

        <p class="">
          Vota la tua estate
        </p>
        <ol class="breadcrumb">
          <li><a ui-sref="home">Home</a></li>
          <li class="active">Login</li>
        </ol>
      </div>
    </div>
  </div>
</div>

<section class="section active-section grey-background">
  <div class="container">
    <div class="row">
      <div class="col-md-8">
        <div class="content">
          <form>
            <h3 ng-hide="loginOk">Login</h3>

            <h3 ng-show="loginOk">Il tuo profilo</h3>

            <div class="form-group">


              <!-- input when not logged in -->
              <div ng-hide="loginOk">
                <label for="telefono" class="col-sm-2 control-label">Il tuo numero di telefono</label>

                <div class="col-sm-10">
                  <input id="telefono" class="form-control" type="text" name="phone" ng-change="unknown = false"
                         placeholder="Numero di telefono da cui effettuare uno squillo (gratuito!) per eseguire il login."
                         ng-model="auth.phone"
                    >
                </div>
              </div>

              <!-- login fields and commands when not logged in -->
              <div ng-hide="loginOk">

                <!-- command to send the number and wait for ring -->
                <button ng-hide="numbertocall || unknown" ng-click="login()" class="btn btn-primary"
                        ng-disabled="!auth.phone">
                  Invia il tuo numero
                </button>

                <!-- command to ring -->
                <div ng-show="numbertocall" class="text-center">
                  <label class="control-label">
                    Ora fai uno
                    squillo al numero <a href="tel:{{numbertocall}}">{{numbertocall}}</a> per confermare il tuo numero!
                  </label>
                </div>
                <div ng-show="numbertocall" class="text-center">
                  <span class="ti-face-smile"></span>
                  <label class="control-label">
                    La telefonata e' gratuita </label>
                </div>

                <!-- command to ring -->
                <div ng-show="unknown" class="text-center">
                  <span class="ti-alert"></span>
                  <label class="control-label">Il tuo numero non risulta registrato</label>
                  <br/>
                </div>

              </div>

              <!-- output when logged in -->
              <div ng-show="loginOk">
                <div class="col-sm-10">
                  Benvenuto, <b>{{fullname()}}</b>
                </div>
                <div class="col-sm-10">
                  Il numero di telefono con cui hai eseguito il login e': <b>{{phone()}}</b>
                </div>
                <div class="col-sm-10">
                  <button class="btn btn-primary" ng-click="logout()" ng-hide="sent">Logout
                  </button>
                </div>
              </div>

            </div>

          </form>

          <form ng-if="!loginOk">
            <br/>
            <br/>

            <h3>Non sei ancora registrato?</h3>
            <br/>

            <div class="form-group">
              <!-- not registered? let's register -->
              <button button type="submit" class="btn btn-primary" ng-click="goToRegister()" ng-hide="sent">
                Registrati
              </button>

            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section divider-section active-section">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="divider"></div>
      </div>
    </div>
  </div>
</section>

<div tabfooter></div>
</div>
